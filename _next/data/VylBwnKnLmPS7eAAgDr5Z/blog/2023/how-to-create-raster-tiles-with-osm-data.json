{"pageProps":{"post":{"mdxSource":"var Component=(()=>{var d=Object.create;var s=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var c=a=>s(a,\"__esModule\",{value:!0});var N=(a,t)=>()=>(t||a((t={exports:{}}).exports,t),t.exports),k=(a,t)=>{c(a);for(var i in t)s(a,i,{get:t[i],enumerable:!0})},g=(a,t,i)=>{if(t&&typeof t==\"object\"||typeof t==\"function\")for(let n of p(t))!u.call(a,n)&&n!==\"default\"&&s(a,n,{get:()=>t[n],enumerable:!(i=h(t,n))||i.enumerable});return a},f=a=>g(c(s(a!=null?d(m(a)):{},\"default\",a&&a.__esModule&&\"default\"in a?{get:()=>a.default,enumerable:!0}:{value:a,enumerable:!0})),a);var o=N((M,l)=>{l.exports=_jsx_runtime});var y={};k(y,{default:()=>x,frontmatter:()=>b});var e=f(o()),b={title:\"How to create raster tiles with OSM data\",date:\"2023-02-26\",tags:[\"OpenStreetMap\",\"Raster Tiles\",\"Docker\"],draft:!1,summary:null};function v(a={}){let{wrapper:t}=a.components||{};return t?(0,e.jsx)(t,Object.assign({},a,{children:(0,e.jsx)(i,{})})):i();function i(){let n=Object.assign({h2:\"h2\",a:\"a\",span:\"span\",p:\"p\",code:\"code\",ul:\"ul\",li:\"li\",h3:\"h3\",pre:\"pre\",blockquote:\"blockquote\"},a.components),{MaplibreGL:r}=n;return r||w(\"MaplibreGL\",!0),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.h2,{id:\"demo\",children:[(0,e.jsx)(n.a,{href:\"#demo\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Demo\"]}),(0,e.jsxs)(n.p,{children:[\"In this example, I will use \",(0,e.jsx)(n.code,{children:\"openstreetmap-tile-server\"}),\" to create raster tiles from OpenStreetMap data. You can give more information about using tiles or serving tiles from \",(0,e.jsx)(n.a,{href:\"https://switch2osm.org/\",children:\"switch2osm\"}),\".\"]}),(0,e.jsx)(r,{style:\"https://yuchuntsao.github.io/custom-raster-tiles/osm-taipei-city/style.json\",isPMTiles:!0,PMTILES_URL:\"https://yuchuntsao.github.io/custom-raster-tiles/osm-taipei-city/data/osm-taipei-city.pmtiles\"}),(0,e.jsxs)(n.h2,{id:\"prerequisites\",children:[(0,e.jsx)(n.a,{href:\"#prerequisites\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Prerequisites\"]}),(0,e.jsx)(n.ul,{children:(0,e.jsx)(n.li,{children:\"Docker\"})}),(0,e.jsxs)(n.h2,{id:\"getting-started\",children:[(0,e.jsx)(n.a,{href:\"#getting-started\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Getting Started\"]}),(0,e.jsxs)(n.h3,{id:\"prepare-input-data\",children:[(0,e.jsx)(n.a,{href:\"#prepare-input-data\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Prepare input data\"]}),(0,e.jsxs)(n.p,{children:[\"You can download the \",(0,e.jsx)(n.code,{children:\"osm.pbf\"}),\" you want. In my case, I use \",(0,e.jsx)(n.code,{children:\"taipei.osm.pbf\"}),\" as input data which was extracted from \",(0,e.jsx)(n.code,{children:\"taiwan-latest.osm.pbf\"}),\".\"]}),(0,e.jsxs)(n.h3,{id:\"create-a-docker-volume\",children:[(0,e.jsx)(n.a,{href:\"#create-a-docker-volume\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Create a docker volume\"]}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsx)(n.code,{className:\"language-bash code-highlight\",children:(0,e.jsx)(n.span,{className:\"code-line\",children:`docker volume create openstreetmap-data\n`})})}),(0,e.jsx)(n.blockquote,{children:(0,e.jsxs)(n.p,{children:[\"You can remove this docker volume with \",(0,e.jsx)(n.code,{children:\"docker volume rm openstreetmap-data\"})]})}),(0,e.jsxs)(n.h3,{id:\"import-your-data\",children:[(0,e.jsx)(n.a,{href:\"#import-your-data\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Import your data\"]}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"time\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\\\\\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"docker run \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\\\\\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  --rm \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\\\\\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  --name openstreetmap-tile-server \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\\\\\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  -v \",(0,e.jsxs)(n.span,{className:\"token variable\",children:[\"${\",(0,e.jsx)(n.span,{className:\"token constant environment\",children:\"PWD\"}),\"}\"]}),\"/data/taipei.osm.pbf:/data.osm.pbf \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\\\\\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  -v openstreetmap-data:/var/lib/postgresql/12/main \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\\\\\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  overv/openstreetmap-tile-server:1.3.10 \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\\\\\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token function\",children:\"import\"}),`\n`]})]})}),(0,e.jsxs)(n.h3,{id:\"run-the-tile-server\",children:[(0,e.jsx)(n.a,{href:\"#run-the-tile-server\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Run the tile server\"]}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"docker run \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\\\\\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  --rm \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\\\\\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  --name openstreetmap-tile-server \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\\\\\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  -p \",(0,e.jsx)(n.span,{className:\"token number\",children:\"8080\"}),\":80 \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\\\\\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  -v openstreetmap-data:/var/lib/postgresql/12/main \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\\\\\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  -d \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\\\\\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  overv/openstreetmap-tile-server:1.3.10 \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\\\\\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  run\n`})]})}),(0,e.jsx)(n.blockquote,{children:(0,e.jsxs)(n.p,{children:[\"You can stop container with \",(0,e.jsx)(n.code,{children:\"docker stop openstreetmap-tile-server\"})]})}),(0,e.jsxs)(n.p,{children:[\"Go to example \",(0,e.jsx)(n.a,{href:\"http://127.0.0.1:8080\",children:(0,e.jsx)(n.code,{children:\"http://127.0.0.1:8080\"})}),\".\"]}),(0,e.jsxs)(n.p,{children:[\"You can access tiles with \",(0,e.jsx)(n.a,{href:\"http://127.0.0.1:8080/tile/%7Bz%7D/%7Bx%7D/%7By%7D.png\",children:(0,e.jsx)(n.code,{children:\"http://127.0.0.1:8080/tile/{z}/{x}/{y}.png\"})})]}),(0,e.jsxs)(n.h2,{id:\"references\",children:[(0,e.jsx)(n.a,{href:\"#references\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"References\"]}),(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://switch2osm.org/\",children:\"switch2osm\"})}),(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://github.com/Overv/openstreetmap-tile-server\",children:\"openstreetmap-tile-server\"})})]})]})}}var x=v;function w(a,t){throw new Error(\"Expected \"+(t?\"component\":\"object\")+\" `\"+a+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return y;})();\n;return Component;","toc":[{"value":"Demo","url":"#demo","depth":2},{"value":"Prerequisites","url":"#prerequisites","depth":2},{"value":"Getting Started","url":"#getting-started","depth":2},{"value":"Prepare input data","url":"#prepare-input-data","depth":3},{"value":"Create a docker volume","url":"#create-a-docker-volume","depth":3},{"value":"Import your data","url":"#import-your-data","depth":3},{"value":"Run the tile server","url":"#run-the-tile-server","depth":3},{"value":"References","url":"#references","depth":2}],"frontMatter":{"readingTime":{"text":"2 min read","minutes":1.12,"time":67200,"words":224},"slug":"2023/how-to-create-raster-tiles-with-osm-data","fileName":"2023/how-to-create-raster-tiles-with-osm-data.md","title":"How to create raster tiles with OSM data","date":"2023-02-26T00:00:00.000Z","tags":["OpenStreetMap","Raster Tiles","Docker"],"draft":false,"summary":null}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.15,"time":9000,"words":30},"slug":["default"],"fileName":"default.md","name":"YuChun Tsao","avatar":"/static/images/avatar.png","occupation":null,"company":null,"email":"tsao84672776@gmail.com","twitter":null,"linkedin":null,"github":"https://github.com/YuChunTsao","date":null}],"prev":{"title":"Using PMTiles in Maplibre GL JS","date":"2023-02-19T00:00:00.000Z","tags":["PMTiles","Vector Tiles","Maplibre GL JS"],"draft":false,"summary":null,"slug":"2023/using-pmtiles-in-maplibre-gl-js"},"next":null},"__N_SSG":true}