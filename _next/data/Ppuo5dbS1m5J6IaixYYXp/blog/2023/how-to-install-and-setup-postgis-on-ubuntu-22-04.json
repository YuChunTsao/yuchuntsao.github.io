{"pageProps":{"post":{"mdxSource":"var Component=(()=>{var d=Object.create;var t=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var i=n=>t(n,\"__esModule\",{value:!0});var m=(n,s)=>()=>(s||n((s={exports:{}}).exports,s),s.exports),N=(n,s)=>{i(n);for(var c in s)t(n,c,{get:s[c],enumerable:!0})},b=(n,s,c)=>{if(s&&typeof s==\"object\"||typeof s==\"function\")for(let a of p(s))!g.call(n,a)&&a!==\"default\"&&t(n,a,{get:()=>s[a],enumerable:!(c=h(s,a))||c.enumerable});return n},f=n=>b(i(t(n!=null?d(u(n)):{},\"default\",n&&n.__esModule&&\"default\"in n?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n);var r=m((y,o)=>{o.exports=_jsx_runtime});var C={};N(C,{default:()=>x,frontmatter:()=>k});var e=f(r()),k={title:\"How to install and setup PostGIS on Ubuntu 22.04?\",date:\"2023-01-29\",tags:[\"PostGIS\"],draft:!1,summary:null};function w(n={}){let{wrapper:s}=n.components||{};return s?(0,e.jsx)(s,Object.assign({},n,{children:(0,e.jsx)(c,{})})):c();function c(){let a=Object.assign({h2:\"h2\",a:\"a\",span:\"span\",p:\"p\",pre:\"pre\",code:\"code\",blockquote:\"blockquote\",h3:\"h3\",div:\"div\",ul:\"ul\",li:\"li\"},n.components),{Image:l}=a;return l||q(\"Image\",!0),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(a.h2,{id:\"install-postgresql\",children:[(0,e.jsx)(a.a,{href:\"#install-postgresql\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(a.span,{className:\"icon icon-link\"})}),\"Install PostgreSQL\"]}),(0,e.jsxs)(a.p,{children:[\"Import the repository key from \",(0,e.jsx)(a.a,{href:\"https://www.postgresql.org/media/keys/ACCC4CF8.asc\",children:\"https://www.postgresql.org/media/keys/ACCC4CF8.asc\"})]}),(0,e.jsx)(a.pre,{className:\"language-bash\",children:(0,e.jsxs)(a.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token function\",children:\"sudo\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"apt\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"install\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"curl\"}),` ca-certificates gnupg\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token function\",children:\"curl\"}),\" https://www.postgresql.org/media/keys/ACCC4CF8.asc \",(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),\" gpg --dearmor \",(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"sudo\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"tee\"}),\" /etc/apt/trusted.gpg.d/apt.postgresql.org.gpg \",(0,e.jsx)(a.span,{className:\"token operator\",children:\">\"}),`/dev/null\n`]})]})}),(0,e.jsx)(a.p,{children:\"Create source list with your distribution\"}),(0,e.jsx)(a.pre,{className:\"language-bash\",children:(0,e.jsx)(a.code,{className:\"language-bash code-highlight\",children:(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token function\",children:\"sudo\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"sh\"}),\" -c \",(0,e.jsx)(a.span,{className:\"token string\",children:`'echo \"deb http://apt.postgresql.org/pub/repos/apt $(lsb_release -cs)-pgdg main\" > /etc/apt/sources.list.d/pgdg.list'`}),`\n`]})})}),(0,e.jsx)(a.p,{children:\"Update and install package\"}),(0,e.jsx)(a.pre,{className:\"language-bash\",children:(0,e.jsxs)(a.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token function\",children:\"sudo\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"apt\"}),` update\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token function\",children:\"sudo\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"apt\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"install\"}),` -y postgresql\n`]})]})}),(0,e.jsx)(a.p,{children:\"You can also specify the version you want to install.\"}),(0,e.jsx)(a.pre,{className:\"language-bash\",children:(0,e.jsx)(a.code,{className:\"language-bash code-highlight\",children:(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token function\",children:\"sudo\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"apt\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"install\"}),` -y postgresql-15\n`]})})}),(0,e.jsx)(a.blockquote,{children:(0,e.jsxs)(a.p,{children:[\"Uninstall command: \",(0,e.jsx)(a.code,{children:\"sudo apt --purge autoremove postgresql\"})]})}),(0,e.jsxs)(a.h2,{id:\"install-postgis\",children:[(0,e.jsx)(a.a,{href:\"#install-postgis\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(a.span,{className:\"icon icon-link\"})}),\"Install PostGIS\"]}),(0,e.jsx)(a.pre,{className:\"language-bash\",children:(0,e.jsx)(a.code,{className:\"language-bash code-highlight\",children:(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token function\",children:\"sudo\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"apt\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"install\"}),` -y postgis\n`]})})}),(0,e.jsx)(a.blockquote,{children:(0,e.jsxs)(a.p,{children:[\"Uninstall command: \",(0,e.jsx)(a.code,{children:\"sudo apt --purge autoremove postgis\"})]})}),(0,e.jsxs)(a.h2,{id:\"setup-database\",children:[(0,e.jsx)(a.a,{href:\"#setup-database\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(a.span,{className:\"icon icon-link\"})}),\"Setup Database\"]}),(0,e.jsxs)(a.h3,{id:\"create-user\",children:[(0,e.jsx)(a.a,{href:\"#create-user\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(a.span,{className:\"icon icon-link\"})}),\"Create user\"]}),(0,e.jsx)(a.pre,{className:\"language-bash\",children:(0,e.jsx)(a.code,{className:\"language-bash code-highlight\",children:(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token function\",children:\"sudo\"}),` -u postgres createuser username\n`]})})}),(0,e.jsxs)(a.p,{children:[\"Using password authentication to connect database, you can use \",(0,e.jsx)(a.code,{children:\"-P\"}),\" or \",(0,e.jsx)(a.code,{children:\"--pwprompt\"}),\" to set user password.\"]}),(0,e.jsx)(a.pre,{className:\"language-bash\",children:(0,e.jsx)(a.code,{className:\"language-bash code-highlight\",children:(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token function\",children:\"sudo\"}),` -u postgres createuser username -P\n`]})})}),(0,e.jsx)(a.blockquote,{children:(0,e.jsxs)(a.p,{children:[\"More information about \",(0,e.jsx)(a.a,{href:\"https://www.postgresql.org/docs/current/auth-methods.html\",children:\"PostgreSQL Authentication Methods\"})]})}),(0,e.jsxs)(a.h3,{id:\"create-database\",children:[(0,e.jsx)(a.a,{href:\"#create-database\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(a.span,{className:\"icon icon-link\"})}),\"Create database\"]}),(0,e.jsxs)(a.p,{children:[\"Set the owner of this database to \",(0,e.jsx)(a.code,{children:\"username\"})]}),(0,e.jsx)(a.pre,{className:\"language-bash\",children:(0,e.jsx)(a.code,{className:\"language-bash code-highlight\",children:(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token function\",children:\"sudo\"}),\" -u postgres createdb --encoding\",(0,e.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\"UTF8 --owner\",(0,e.jsx)(a.span,{className:\"token operator\",children:\"=\"}),`username dbname\n`]})})}),(0,e.jsxs)(a.h3,{id:\"create-postgis-extension\",children:[(0,e.jsx)(a.a,{href:\"#create-postgis-extension\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(a.span,{className:\"icon icon-link\"})}),\"Create PostGIS extension\"]}),(0,e.jsx)(a.pre,{className:\"language-bash\",children:(0,e.jsx)(a.code,{className:\"language-bash code-highlight\",children:(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token function\",children:\"sudo\"}),\" -u postgres psql dbname --command\",(0,e.jsx)(a.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(a.span,{className:\"token string\",children:\"'CREATE EXTENSION postgis;'\"}),`\n`]})})}),(0,e.jsxs)(a.h3,{id:\"connect-to-database-with-username\",children:[(0,e.jsx)(a.a,{href:\"#connect-to-database-with-username\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(a.span,{className:\"icon icon-link\"})}),\"Connect to database with \",(0,e.jsx)(a.code,{children:\"username\"})]}),(0,e.jsx)(a.pre,{className:\"language-bash\",children:(0,e.jsx)(a.code,{className:\"language-bash code-highlight\",children:(0,e.jsx)(a.span,{className:\"code-line\",children:`psql -h localhost -U username -d dbname -W\n`})})}),(0,e.jsx)(a.p,{children:\"You can also link to this database through QGIS\"}),(0,e.jsx)(a.div,{children:(0,e.jsx)(l,{alt:\"qgis-postgis-connection-information\",src:\"/static/images/2023/how-to-install-and-setup-postgis-on-ubuntu-22-04/qgis-postgis-connection-information.png\",width:\"453\",height:\"545\"})}),(0,e.jsxs)(a.h2,{id:\"references\",children:[(0,e.jsx)(a.a,{href:\"#references\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(a.span,{className:\"icon icon-link\"})}),\"References\"]}),(0,e.jsxs)(a.ul,{children:[(0,e.jsx)(a.li,{children:(0,e.jsx)(a.a,{href:\"https://www.postgresql.org/download/\",children:\"PostgreSQL Downloads\"})}),(0,e.jsx)(a.li,{children:(0,e.jsx)(a.a,{href:\"https://wiki.postgresql.org/wiki/Apt\",children:\"PostgreSQL Apt Repository\"})})]})]})}}var x=w;function q(n,s){throw new Error(\"Expected \"+(s?\"component\":\"object\")+\" `\"+n+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return C;})();\n;return Component;","toc":[{"value":"Install PostgreSQL","url":"#install-postgresql","depth":2},{"value":"Install PostGIS","url":"#install-postgis","depth":2},{"value":"Setup Database","url":"#setup-database","depth":2},{"value":"Create user","url":"#create-user","depth":3},{"value":"Create database","url":"#create-database","depth":3},{"value":"Create PostGIS extension","url":"#create-postgis-extension","depth":3},{"value":"Connect to database with username","url":"#connect-to-database-with-username","depth":3},{"value":"References","url":"#references","depth":2}],"frontMatter":{"readingTime":{"text":"2 min read","minutes":1.34,"time":80400,"words":268},"slug":"2023/how-to-install-and-setup-postgis-on-ubuntu-22-04","fileName":"2023/how-to-install-and-setup-postgis-on-ubuntu-22-04.md","title":"How to install and setup PostGIS on Ubuntu 22.04?","date":"2023-01-29T00:00:00.000Z","tags":["PostGIS"],"draft":false,"summary":null}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.15,"time":9000,"words":30},"slug":["default"],"fileName":"default.md","name":"YuChun Tsao","avatar":"/static/images/avatar.png","occupation":null,"company":null,"email":"tsao84672776@gmail.com","twitter":null,"linkedin":null,"github":"https://github.com/YuChunTsao","date":null}],"prev":{"title":"Linux backup with Duplicity","date":"2023-01-22T00:00:00.000Z","tags":["Linux","Backup","Duplicity"],"draft":false,"summary":null,"slug":"2023/linux-backup-with-duplicity"},"next":{"title":"Import OSM data through osm2pgsql flex output","date":"2023-02-05T00:00:00.000Z","tags":["osm2pgsql","OpenStreetMap","PostGIS"],"draft":false,"summary":null,"slug":"2023/import-osm-data-through-osm2pgsql-flex-output"}},"__N_SSG":true}